<!DOCTYPE html>
<html lang="de">

<!-- Mirrored from homework-manager.akzuwo.ch/kalender by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Aug 2025 06:36:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kalender</title>
  <link rel="icon" type="image/png" href="../media/logo.png">

  <!-- FullCalendar Standard-CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css"
  />
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="kalender.css">

</head>
<body>
  <h1>üìÖ Kalender</h1>
  <div id="content">
    <div id="calendar">Kalender wird geladen‚Ä¶</div>
    <button id="export-button" onclick="window.location.href='https://homework-manager-2-0-backend.onrender.com/calendar.ics'">üì§ Exportieren</button>
  </div>

  <!-- Modal (initial versteckt) -->
  <div id="fc-modal-overlay" class="fc-modal-overlay" onclick="closeModal()">
    <div class="fc-modal" onclick="event.stopPropagation()">

      <button class="close-btn" onclick="closeModal()">‚úñ</button>

      <!-- VIEW MODE -->
      <div id="fc-view-mode">
        <h2 id="fc-modal-title"></h2>
        <p><strong>Typ:</strong> <span id="fc-modal-type"></span></p>
        <p><strong>Fach:</strong> <span id="fc-modal-subject"></span></p>
        <p><strong>Datum:</strong> <span id="fc-modal-date"></span></p>
        <div id="fc-modal-desc" class="fc-modal-desc"></div>
      </div>

      <!-- EDIT MODE (nur f√ºr Admins) -->
      <form id="fc-edit-form" style="display:none;">
        <h2>Eintrag bearbeiten</h2>
        <input type="hidden" id="fc-entry-id">
        <input type="hidden" id="fc-entry-type">

        <div class="fc-form-group">
          <label for="fc-edit-subject">Fachk√ºrzel</label>
          <input type="text" id="fc-edit-subject" maxlength="100" required>
        </div>

        <div class="fc-form-group">
          <label for="fc-edit-date">Datum (YYYY-MM-DD)</label>
          <input type="date" id="fc-edit-date" required>
        </div>

        <div class="fc-form-group">
          <label for="fc-edit-start">Beginn (optional)</label>
          <input type="time" id="fc-edit-start">
        </div>

        <div class="fc-form-group">
          <label for="fc-edit-end">Ende (optional)</label>
          <input type="time" id="fc-edit-end">
        </div>

        <div class="fc-form-group">
          <label for="fc-edit-desc">Beschreibung</label>
          <textarea id="fc-edit-desc" rows="4"></textarea>
        </div>

        <button type="button" onclick="saveEdit()">Speichern</button>
        <button type="button" onclick="deleteEntry()" style="background:#dc3545; color:#fff;">
          L√∂schen
        </button>
      </form>

    </div>
  </div>

  <!-- Entry creation modal -->
  <div id="entry-modal-overlay" class="fc-modal-overlay" onclick="closeEntryModal()">
    <div class="fc-modal" onclick="event.stopPropagation()">

      <button class="close-btn" onclick="closeEntryModal()">‚úñ</button>

      <h2>üìù Neuen Eintrag erstellen</h2>
      <form id="entry-form" onsubmit="saveEntry(event)">
        <div class="fc-form-group">
          <label for="typ">Typ</label>
          <select id="typ" name="typ" required>
            <option value="hausaufgabe">Hausaufgabe</option>
            <option value="pruefung">Pr√ºfung</option>
            <option value="event">Event</option>
          </select>
        </div>

        <div class="fc-form-group" data-field="subject">
          <label for="fach">Fach</label>
          <select id="fach" name="fach" required>
            <option value="">‚Äì bitte w√§hlen ‚Äì</option>
            <option>MA</option>
            <option>DE</option>
            <option>EN</option>
            <option>PS</option>
            <option>SPM-PS</option>
            <option>SPM-MA</option>
            <option>SPM-ES</option>
            <option>SP</option>
            <option>WR</option>
            <option>GS</option>
            <option>GG</option>
            <option>IN</option>
            <option>IT</option>
            <option>FR</option>
            <option>BG</option>
            <option>MU</option>
            <option>BI</option>
            <option>Sport</option>
            <option>CH</option>
            <option>PH</option>
            <option>SMU</option>
          </select>
        </div>

        <div class="fc-form-group" data-field="event-title" style="display:none;">
          <label for="event-titel">Event-Titel</label>
          <input
            type="text"
            id="event-titel"
            name="event-titel"
            minlength="80"
            maxlength="120"
            placeholder="Titel mit 80‚Äì120 Zeichen"
            required
          >
        </div>

        <div class="fc-form-group">
          <label for="beschreibung">Beschreibung (optional)</label>
          <textarea id="beschreibung" name="beschreibung" rows="3" placeholder="Kurzbeschreibung"></textarea>
        </div>

        <div class="fc-form-group">
          <label for="datum">Datum (TT.MM.JJJJ)</label>
          <input
            type="text"
            id="datum"
            name="datum"
            placeholder="18.09.2025"
            inputmode="numeric"
            required
          >
        </div>

        <div class="fc-form-group">
          <label for="startzeit">Startzeit</label>
          <input type="time" id="startzeit" name="startzeit" required>
        </div>

        <div class="fc-form-group">
          <label for="endzeit">Endzeit (optional)</label>
          <input type="time" id="endzeit" name="endzeit">
        </div>

        <button type="submit" id="saveButton">Hinzuf√ºgen</button>
      </form>
    </div>
  </div>

  <!-- FullCalendar Standard-JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"
      defer
    ></script>
    <script src="overlay.js" defer></script>
    <script src="script.js" defer></script>
    <!-- Dein Kalender-Script -->
    <script src="kalender.js" defer></script>

  <button id="back-button" onclick="window.location.href='index.html'">‚óÄÔ∏è Zur√ºck</button>
</body>
<!-- Mirrored from homework-manager.akzuwo.ch/kalender by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Aug 2025 06:36:31 GMT -->
</html>
